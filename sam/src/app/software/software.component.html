<div class="container" fxLayout fxFlex="100%" fxLayoutGap="10px">
    <div class="filtersoft" fxFlex="20%">
        <br><br>
        <div class="filterhead" style=" margin-top:0px;padding-top:0px;">
            <mat-card class="col-bg-button" style="color:white;border-radius: 0.5px; font-size:16px; ">
                Filter
                <button *ngIf="show2" id="removebox" (click)="clearAll()" 
                    style="margin-left:120px; text-align: center; max-width: 50px; height: 25px; color: white; background-color: #5680e9; box-shadow: none;border:1px solid white;">
                    Clear
                </button>
            </mat-card>
        </div>
        <div class="filterScroll">
            <mat-expansion-panel [expanded]="step === 1" (opened)="setStepFilter(1)">
                <mat-expansion-panel-header>
                    <mat-panel-title>Software type</mat-panel-title>
                </mat-expansion-panel-header>
                <mat-checkbox class="example-margin" [(ngModel)]="isSelected"
                    (change)="filterSoft($event, 'System Software')">
                    System Software
                </mat-checkbox><br>
                <mat-checkbox class="example-margin" [(ngModel)]="isSelected1"
                    (change)="filterSoft($event, 'Application Software')">Application Software
                </mat-checkbox><br>
                <mat-checkbox class="example-margin" [(ngModel)]="isSelected2"
                    (change)="filterSoft($event, 'Programming Software')">Programming Software </mat-checkbox><br>

            </mat-expansion-panel>

            <mat-expansion-panel [expanded]="step === 2" (opened)="setStepFilter(2)">
                <mat-expansion-panel-header>
                    <mat-panel-title>Subtype</mat-panel-title>
                </mat-expansion-panel-header>
                <mat-checkbox class="example-margin" [(ngModel)]="isSelected3"
                    (change)="filterSoft($event, 'Freeware')">
                    Freeware Software
                </mat-checkbox><br>
                <mat-checkbox class="example-margin" [(ngModel)]="isSelected4"
                    (change)="filterSoft($event, 'Shareware')">
                    Shareware Software
                </mat-checkbox><br>
                <mat-checkbox class="example-margin" [(ngModel)]="isSelected5" (change)="filterSoft($event, 'Utility')">
                    Utility
                    Software
                </mat-checkbox><br>

                <mat-checkbox class="example-margin" [(ngModel)]="isSelected6" (change)="filterSoft($event, 'Browser')">
                    Browser

                    Software

                </mat-checkbox><br>

            </mat-expansion-panel>

            <mat-expansion-panel [expanded]="step === 3" (opened)="setStepFilter(3)">

                <mat-expansion-panel-header>

                    <mat-panel-title>

                        Software Category

                    </mat-panel-title>
                </mat-expansion-panel-header>

                <mat-checkbox class="example-margin" [(ngModel)]="isSelected7"
                    (change)="filterSoft($event, 'Accounting')">

                    Accounting Software

                </mat-checkbox><br>



                <mat-checkbox class="example-margin" [(ngModel)]="isSelected8"
                    (change)="filterSoft($event, 'Multimedia')">

                    Multimedia Software

                </mat-checkbox><br>

                <mat-checkbox class="example-margin" [(ngModel)]="isSelected9"
                    (change)="filterSoft($event, 'Graphics')">

                    Graphics Software

                </mat-checkbox><br>

                <mat-checkbox class="example-margin" [(ngModel)]="isSelected10"
                    (change)="filterSoft($event, 'Development')">

                    Development Software

                </mat-checkbox><br>

                <mat-checkbox class="example-margin" [(ngModel)]="isSelected11"
                    (change)="filterSoft($event, 'Database')">

                    Database Software

                </mat-checkbox><br>

                <mat-checkbox class="example-margin" [(ngModel)]="isSelected12" (change)="filterSoft($event, 'Games')">
                    Gaming
                    Software
                </mat-checkbox><br>
                <mat-checkbox class="example-margin" [(ngModel)]="isSelected13"
                    (change)="filterSoft($event, 'Internet')">
                    Internet Software
                </mat-checkbox><br>
            </mat-expansion-panel>
            <!-- <mat-expansion-panel [expanded]="step === 4" (opened)="setStepFilter(4)">
                <mat-expansion-panel-header>
                    <mat-panel-title>
                        License Type
                    </mat-panel-title>
                </mat-expansion-panel-header>
                <mat-checkbox class="example-margin" [(ngModel)]="isSelected14"
                    (change)="filterSoft($event, 'Proprietary license')">
                    Proprietary license
                </mat-checkbox><br>
                <mat-checkbox class="example-margin" [(ngModel)]="isSelected15"
                    (change)="filterSoft($event, 'GNU General Public License')">GNU General
                    Public License
                </mat-checkbox><br>
                <mat-checkbox class="example-margin" [(ngModel)]="isSelected16" (change)="filterSoft($event, 'EULA')">
                    End user
                    license agreement (EULA) Software</mat-checkbox><br>
                <mat-checkbox class="example-margin" [(ngModel)]="isSelected17"
                    (change)="filterSoft($event, 'Workstation license')">
                    Workstation license
                </mat-checkbox><br>
                <mat-checkbox class="example-margin" [(ngModel)]="isSelected18"
                    (change)="filterSoft($event, 'Concurrent user license')">
                    Concurrent user license
                </mat-checkbox><br>
                <mat-checkbox class="example-margin" [(ngModel)]="isSelected19"
                    (change)="filterSoft($event, 'Site license')">Site
                    license</mat-checkbox>
                <br>
                <mat-checkbox class="example-margin" [(ngModel)]="isSelected20"
                    (change)="filterSoft($event, 'Perpetual License')">
                    Perpetual license 
                </mat-checkbox><br>
            </mat-expansion-panel> -->
        </div>



    </div>

    <div class="wrapper" fxLayout="column" fxFlex="70%">

        <div class="searchItems" fxLayoutWrap fxLayoutAlign="space-between">



            <input type="search" (keyup)="applyFilter($event.target.value)" matInput placeholder="Search Software"
                style="width:250px; height: 40px;">



            <button fxFlexAlign="end" fxFlex="15" mat-raised-button class="stylepopupbuttonconfirm"
                routerLink="/addForm">Add

                Software</button>
        </div>
        <br>
        <div class="instable mat-elevation-z8">
            <table mat-table [dataSource]="dataSource">
                <ng-container matColumnDef="Product_Name">
                    <th mat-header-cell *matHeaderCellDef class="col-bg-button" style="color: white;"> Software Name
                    </th>
                    <td mat-cell *matCellDef="let element" style="cursor:pointer" (click)="goToLicenseTable(element)">
                        {{element.sname}} </td>
                </ng-container>
         
                <ng-container matColumnDef="Publisher_Name">
                    <th mat-header-cell *matHeaderCellDef class="col-bg-button" style="color: white;"> Publisher name
                    </th>
                    <td mat-cell *matCellDef="let element" (click)="goToLicenseTable(element)">
                        {{element.Publisher_Name}} </td>
                </ng-container>

                <ng-container matColumnDef="Software_Type">
                    <th mat-header-cell *matHeaderCellDef class="col-bg-button" style="color: white;"> Software type
                    </th>
                    <td mat-cell *matCellDef="let element" (click)="goToLicenseTable(element)">
                        {{element.SType_Name}} </td>
                </ng-container>

                <ng-container matColumnDef="Subtype">
                    <th mat-header-cell *matHeaderCellDef class="col-bg-button" style="color: white;"> Subtype </th>
                    <td mat-cell *matCellDef="let element" (click)="goToLicenseTable(element)">
                        {{element.SubType_Name}} </td>
                </ng-container>

                <ng-container matColumnDef="Software_Category">
                    <th mat-header-cell *matHeaderCellDef class="col-bg-button" style="color: white;"> Software Category
                    </th>
                    <td mat-cell *matCellDef="let element" (click)="goToLicenseTable(element)">
                        {{element.SCategory_Name}} </td>
                </ng-container>


                <ng-container matColumnDef="Total_License">
                    <th mat-header-cell *matHeaderCellDef class="col-bg-button" style="color: white;"> Total licensed
                    </th>
                    <td mat-cell *matCellDef="let element" (click)="goToLicenseTable(element)">
                        {{(element.available_count? element.available_count: 'NA')}}</td>
                </ng-container>

                <ng-container matColumnDef="Consumed">
                    <th mat-header-cell *matHeaderCellDef class="col-bg-button" style="color: white;"> Compliant</th>
                    <td mat-cell *matCellDef="let element" (click)="goToLicenseTable(element)">
                        {{element.compliant}}
                    </td>
                </ng-container>

                <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

            </table>

            <div *ngIf="show">

                <p>No Data Matched</p>

            </div>

            <mat-paginator [pageSizeOptions]="[5,10,20]" showFirstLastButtons></mat-paginator>

        </div>

    </div>

</div>